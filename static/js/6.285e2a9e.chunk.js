(this.webpackJsonpfinance=this.webpackJsonpfinance||[]).push([[6],{118:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return c}));var n=new window.Intl.NumberFormat(void 0,{maximumFractionDigits:2}),l=["","K","M","B","T"],r={format(e,t){if(null===e||0===e)return"0";t=!t||t<0?0:t;var a=e.toPrecision(2).split("e"),r=1===a.length?0:Math.floor(Math.min(parseInt(a[1].slice(1),10),14)/3),o=(r<0?r:Math.abs(r))<1?e.toFixed(0+t):(e/Math.pow(10,3*r)).toFixed(1+t);return"".concat(n.format(o)).concat(l[r])}},o=new window.Intl.NumberFormat(void 0,{maximumFractionDigits:2,minimumFractionDigits:2}),s=new window.Intl.NumberFormat(void 0,{maximumFractionDigits:3,minimumFractionDigits:3}),c=new window.Intl.NumberFormat(void 0,{maximumFractionDigits:2,minimumFractionDigits:2,style:"percent"})},121:function(e,t,a){},123:function(e,t,a){"use strict";var n=a(41),l=a(42),r=a(44),o=a(43),s=a(1),c=a(6),i=a(19),m=a(133),u=a(129),d=a.n(u);function h(e){var t=s.useState(!1),a=Object(m.a)(t,2),n=a[0],l=a[1],r=s.useRef(null);return s.createElement("div",{className:"card"},s.createElement("div",{className:"card-body"},s.createElement(c.e,{action:"/api",method:"post",onSubmit:function(t){t.preventDefault();var a=d()(t.currentTarget,{hash:!0});e.onAddSymbol&&e.onAddSymbol(a),null!=r.current&&r.current.reset()},innerRef:r},s.createElement(c.f,null,s.createElement(c.h,{for:"symbol"},"Symbol"),s.createElement(c.g,{autoComplete:"off",bsSize:"sm",id:"symbol",name:"symbol",required:!0})),n?s.createElement(c.f,null,s.createElement(c.a,{color:"link",onClick:function(){l(!1)},size:"sm",type:"button"},"- Remove transaction data")):s.createElement(c.f,null,s.createElement(c.a,{color:"link",onClick:function(){l(!0)},size:"sm",type:"button"},"+ Add transaction data")),s.createElement(c.c,{isOpen:n},s.createElement(c.f,null,s.createElement(c.h,{for:"type"},"Type"),s.createElement(c.g,{bsSize:"sm",className:"form-control",disabled:!n,id:"type",name:"type",required:!0,type:"select"},s.createElement("option",null,"Buy"),s.createElement("option",null,"Sell"))),s.createElement(c.f,null,s.createElement(c.h,{for:"shares"},"Shares"),s.createElement(c.g,{bsSize:"sm",disabled:!n,id:"shares",min:"0",name:"shares",required:!0,step:".001",type:"number"})),s.createElement(c.f,null,s.createElement(c.h,{for:"price"},"Price/Amount"),s.createElement(c.g,{bsSize:"sm",disabled:!n,id:"price",min:"0",name:"price",step:".01",type:"number"})),s.createElement(c.f,null,s.createElement(c.h,{for:"date"},"Date ",s.createElement("small",{className:"text-secondary"},"(Optional)")),s.createElement(c.g,{bsSize:"sm",disabled:!n,id:"date",name:"date",type:"date"})),s.createElement(c.f,null,s.createElement(c.h,{for:"commission"},"Commission ",s.createElement("small",{className:"text-secondary"},"(Optional)")),s.createElement(c.g,{bsSize:"sm",disabled:!n,id:"commission",min:"0",name:"commission",step:".01",type:"number"}))),s.createElement(c.f,{style:{marginBottom:0}},s.createElement(c.a,{color:"primary",disabled:e.isLoading,size:"sm",type:"submit"},"Add to portfolio")))))}function f(e){return s.createElement(c.b,{className:"text-right"},s.createElement(c.a,{color:"link",size:"sm",type:"button"},s.createElement(c.h,{className:"label-button"},s.createElement(c.g,{accept:"text/csv",hidden:!0,onChange:function(t){var a=t.currentTarget,n=a.files;null!=n&&0!==n.length&&(e.onImportPortfolio(n[0]),a.value="")},type:"file"}),"Import transactions")),"|",s.createElement(c.a,{color:"link",onClick:e.onDeletePortfolio,size:"sm",type:"button"},"Delete portfolio"),"|",s.createElement(c.a,{color:"link",onClick:e.onDownloadPortfolio,size:"sm",type:"button"},"Download to spreadsheet"))}a(121);var b=a(23);function p(){return s.createElement("div",{className:"bg-light shadow-sm nav-scroller"},s.createElement(c.l,{className:"nav-portfolio",role:"navigation"},s.createElement(c.m,null,s.createElement(b.c,{className:"nav-link",exact:!0,to:"/"},"Overview")),s.createElement(c.m,null,s.createElement(b.c,{className:"nav-link",to:"/performance"},"Performance")),s.createElement(c.m,null,s.createElement(b.c,{className:"nav-link",to:"/transactions"},"Transactions"))))}var g=a(15),y=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleAddSymbol=function(t){var a={cashValue:null,commission:parseFloat(t.commission)||0,date:t.date,id:-1,notes:null,price:parseFloat(t.price)||0,shares:parseFloat(t.shares)||0,symbol:t.symbol.toUpperCase(),type:t.type||"Buy"};e.props.dispatch(Object(i.a)(a)),e.props.dispatch(Object(i.h)())},e.handleDeletePortfolio=function(){window.confirm("Are you sure you want to delete the entire portfolio? This is irreversible.")&&e.props.dispatch(Object(i.c)())},e.handleDownloadPortfolio=function(){e.props.dispatch(Object(i.f)())},e.handleImportPortfolio=function(t){e.props.dispatch(Object(i.j)(t))},e}return Object(l.a)(a,[{key:"render",value:function(){return s.createElement(s.Fragment,null,s.createElement(p,null),s.createElement(c.d,{className:"mb-4"},s.createElement(c.q,{className:"mb-3 mt-3"},s.createElement(c.b,null,s.createElement(c.a,{color:this.props.deleteDisabled?"secondary":"danger",disabled:this.props.deleteDisabled,onClick:this.props.onDelete,outline:!0,size:"sm"},"Delete")),s.createElement(f,{onDeletePortfolio:this.handleDeletePortfolio,onDownloadPortfolio:this.handleDownloadPortfolio,onImportPortfolio:this.handleImportPortfolio})),this.props.children,s.createElement(c.q,null,s.createElement(c.b,{md:"6"},s.createElement(h,{isLoading:this.props.isLoading,onAddSymbol:this.handleAddSymbol})))))}}]),a}(s.Component);t.a=Object(g.b)((function(e){return{isLoading:e.isFetchingCount>0}}))(y)},253:function(e,t,a){"use strict";a.r(t);var n=a(128),l=a(41),r=a(42),o=a(44),s=a(43),c=a(1),i=a(6),m=a(19),u=a(118),d=a(23),h=a(123),f=a(132),b=a(15),p=a(2),g=a.n(p),y=a(130),v=a.n(y)()(f.a);function E(e){return g()("text-right",{"text-danger":null!=e&&e<0,"text-success":null!=e&&e>=0})}var S=[{accessor:"companyName",Cell:function(e){return null==e.value?"...":e.value},Footer:c.createElement("strong",null,"Portfolio value:"),Header:"Name",headerClassName:"text-left"},{accessor:"symbol",Cell:function(e){return c.createElement(d.b,{to:"/stocks/".concat(e.value)},e.value)},Header:"Symbol",headerClassName:"text-left"},{accessor:"latestPrice",Cell:function(e){return c.createElement("div",{className:"text-right"},null==e.value?"...":u.b.format(e.value))},Header:"Last Price",headerClassName:"text-right"},{accessor:"change.change",Cell:function(e){var t=e.original.change;return c.createElement("div",{className:E(e.value)},null==t.change?"...":"".concat(t.change>=0?"+":"").concat(u.b.format(t.change)," (").concat(t.changePercent>=0?"+":"").concat(u.d.format(t.changePercent),")"))},Header:"Change",headerClassName:"text-right"},{accessor:"shares",Cell:function(e){return c.createElement("div",{className:"text-right"},0===e.value?"...":u.c.format(e.value))},Header:"Shares",headerClassName:"text-right"},{accessor:"costBasis",Cell:function(e){return c.createElement("div",{className:"text-right"},null==e.value?"...":u.b.format(e.value))},Header:"Cost Basis",headerClassName:"text-right",Footer:function(e){return c.createElement("div",{className:"text-right"},u.b.format(e.data.reduce((function(e,t){return e+t.costBasis}),0)))}},{accessor:"marketValue",Cell:function(e){return c.createElement("div",{className:"text-right"},null==e.value?"...":u.b.format(e.value))},Header:"Mkt. Value",headerClassName:"text-right",Footer:function(e){return c.createElement("div",{className:"text-right"},u.b.format(e.data.reduce((function(e,t){return e+t.marketValue}),0)))}},{accessor:"gain",Cell:function(e){return c.createElement("div",{className:E(e.value)},null==e.value?"...":"".concat(e.value>=0?"+":"").concat(u.b.format(e.value)))},Header:"Gain",headerClassName:"text-right",Footer:function(e){var t=e.data.reduce((function(e,t){return e+t.costBasis}),0);return c.createElement("div",{className:E(t)},t>=0?"+":"",u.b.format(t))}},{accessor:"gainPercent",Cell:function(e){return c.createElement("div",{className:E(e.value)},null==e.value?"...":"".concat(e.value>=0?"+":"").concat(u.d.format(e.value)))},Header:"Gain %",headerClassName:"text-right",Footer:function(e){var t=e.data.reduce((function(e,t){return e+t.costBasis}),0),a=e.data.reduce((function(e,t){return e+t.marketValue}),0),n=0===a?0:(a-t)/t;return c.createElement("div",{className:E(n)},t>=0?"+":"",u.d.format(n))}},{accessor:"daysGain",Cell:function(e){return c.createElement("div",{className:E(e.value)},null==e.value?"...":"".concat(e.value>=0?"+":"").concat(u.b.format(e.value)))},Footer:function(e){var t=e.data.reduce((function(e,t){return e+t.daysGain}),0);return c.createElement("div",{className:E(t)},t>=0?"+":"",u.b.format(t))},Header:"Day's gain",headerClassName:"text-right"}],N=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleDeleteSelectedSymbols=function(){n.props.dispatch(Object(m.d)(Array.from(n.state.selectedSymbols)))},n.handlePageSizeChange=function(e){n.props.dispatch(Object(m.b)(e))},n.handleToggleAllSymbols=function(e){n.isAllSymbolsSelected()?n.setState({selectedSymbols:new Set}):n.setState({selectedSymbols:new Set(n.props.symbols)})},n.handleToggleSymbolSelected=function(e){n.isSymbolSelected(e)?n.state.selectedSymbols.delete(e):n.state.selectedSymbols.add(e),n.forceUpdate()},n.isAllSymbolsSelected=function(){return n.state.selectedSymbols.size===n.props.symbols.length},n.isSymbolSelected=function(e){return n.state.selectedSymbols.has(e)},n.state={selectedSymbols:new Set},n}return Object(r.a)(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a,l=!1,r=new Set(e.symbols),o=new Set,s=Object(n.a)(t.selectedSymbols);try{for(s.s();!(a=s.n()).done;){var c=a.value;r.has(c)?o.add(c):l=!0}}catch(i){s.e(i)}finally{s.f()}return l?{selectedSymbols:o}:null}}]),Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.symbols.map((function(t){var a=e.props.quotes[t],n=e.props.transactions.filter((function(e){return e.symbol===t})),l=0,r=0,o=0;n.forEach((function(e){"Buy"===e.type&&(l+=e.price*e.shares,l+=e.commission,o+=e.shares,null!=a&&(r+=a.latestPrice*e.shares))}));var s=r-l,c=0;null!=a&&(c=s/l);var i=o>0&&null!=a;return{change:{change:null==a?null:a.change,changePercent:null==a?null:a.changePercent},companyName:null==a?null:a.companyName,costBasis:i?l:null,daysGain:null==a||0===o?null:a.change*o,gain:i?s:null,gainPercent:i?c:null,latestPrice:null==a?null:a.latestPrice,marketValue:i?r:null,shares:o,symbol:t}})),a=0===this.props.symbols.length||0===this.state.selectedSymbols.size;return c.createElement(h.a,{deleteDisabled:a,onDelete:this.handleDeleteSelectedSymbols},c.createElement(i.q,{className:"mb-4"},c.createElement(i.b,null,c.createElement(v,{columns:S,data:t,defaultSorted:[{desc:!1,id:"symbol"}],getPaginationProps:function(){return{NextComponent:function(e){return c.createElement(i.a,Object.assign({className:"btn-sm",outline:!0},e))},PreviousComponent:function(e){return c.createElement(i.a,Object.assign({className:"btn-sm",outline:!0},e))},className:"pt-2",showPageJump:!1}},isSelected:this.isSymbolSelected,keyField:"symbol",noDataText:"No symbols yet. Add one using the form below.",onPageSizeChange:this.handlePageSizeChange,pageSize:this.props.appSettings.pageSize,selectAll:this.isAllSymbolsSelected(),selectType:"checkbox",toggleAll:this.handleToggleAllSymbols,toggleSelection:this.handleToggleSymbolSelected}))))}}]),a}(c.Component);t.default=Object(b.b)((function(e){return{appSettings:e.appSettings,quotes:e.quotes,symbols:e.symbols,transactions:e.transactions}}))(N)}}]);
//# sourceMappingURL=6.285e2a9e.chunk.js.map